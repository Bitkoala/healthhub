const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/web-WH5DIsD8.js","assets/index-JbFNVPXE.js","assets/index-Bub5KewG.css"])))=>i.map(i=>d[i]);
import{r as ae,_ as ie,d as re,a as u,u as de,C as ce,w as ue,c as me,o as be,b as a,e as s,f as m,g as L,F as g,h as w,i as v,j as pe,v as h,k as I,t as c,l as fe,m as ve,n as b,p as j,q as i}from"./index-JbFNVPXE.js";var A;(function(t){t.Aztec="AZTEC",t.Codabar="CODABAR",t.Code39="CODE_39",t.Code93="CODE_93",t.Code128="CODE_128",t.DataMatrix="DATA_MATRIX",t.Ean8="EAN_8",t.Ean13="EAN_13",t.Itf="ITF",t.Pdf417="PDF_417",t.QrCode="QR_CODE",t.UpcA="UPC_A",t.UpcE="UPC_E"})(A||(A={}));var q;(function(t){t.CalendarEvent="CALENDAR_EVENT",t.ContactInfo="CONTACT_INFO",t.DriversLicense="DRIVERS_LICENSE",t.Email="EMAIL",t.Geo="GEO",t.Isbn="ISBN",t.Phone="PHONE",t.Product="PRODUCT",t.Sms="SMS",t.Text="TEXT",t.Url="URL",t.Wifi="WIFI",t.Unknown="UNKNOWN"})(q||(q={}));var R;(function(t){t[t["640x480"]=0]="640x480",t[t["1280x720"]=1]="1280x720",t[t["1920x1080"]=2]="1920x1080",t[t["3840x2160"]=3]="3840x2160"})(R||(R={}));var H;(function(t){t.Front="FRONT",t.Back="BACK"})(H||(H={}));var z;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.PENDING=1]="PENDING",t[t.DOWNLOADING=2]="DOWNLOADING",t[t.CANCELED=3]="CANCELED",t[t.COMPLETED=4]="COMPLETED",t[t.FAILED=5]="FAILED",t[t.INSTALLING=6]="INSTALLING",t[t.DOWNLOAD_PAUSED=7]="DOWNLOAD_PAUSED"})(z||(z={}));var V;(function(t){t[t.HOME=0]="HOME",t[t.UNKNOWN=1]="UNKNOWN",t[t.WORK=2]="WORK"})(V||(V={}));var S;(function(t){t[t.HOME=0]="HOME",t[t.UNKNOWN=1]="UNKNOWN",t[t.WORK=2]="WORK"})(S||(S={}));var X;(function(t){t[t.FAX=0]="FAX",t[t.HOME=1]="HOME",t[t.MOBILE=2]="MOBILE",t[t.UNKNOWN=3]="UNKNOWN",t[t.WORK=4]="WORK"})(X||(X={}));var Q;(function(t){t[t.OPEN=1]="OPEN",t[t.WEP=2]="WEP",t[t.WPA=3]="WPA"})(Q||(Q={}));const $=ae("BarcodeScanner",{web:()=>ie(()=>import("./web-WH5DIsD8.js"),__vite__mapDeps([0,1,2])).then(t=>new t.BarcodeScannerWeb)}),xe={class:"container mx-auto p-4 md:p-6 max-w-3xl mobile-px-0"},ge={class:"flex justify-between items-center mb-6"},we={key:0,class:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-6 rounded-lg shadow-md",role:"alert"},he={class:"flex"},ye={class:"text-sm"},ke={key:1,class:"bg-white/80 backdrop-blur-sm p-6 rounded-xl shadow-md mb-6 border border-white/20"},_e={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ee={class:"md:col-span-2"},Ne={class:"flex justify-between items-end mb-1"},Ce={class:"flex space-x-2"},Oe={class:"md:col-span-2"},Ae={class:"md:col-span-2"},De={class:"grid grid-cols-2 md:grid-cols-3 gap-2 mt-1"},Le=["onUpdate:modelValue"],$e={class:"mt-6 flex justify-end space-x-3"},Ue={class:"space-y-4"},Te={key:0,class:"text-center py-12 bg-white/60 backdrop-blur-sm rounded-xl"},Me={class:"flex flex-col md:flex-row justify-between items-start md:items-center"},Pe={class:"flex-1 mb-4 md:mb-0"},We={class:"text-lg font-bold"},Ke={class:"text-sm"},Ie={key:0,class:"text-sm"},je={class:"text-sm flex items-center"},qe={class:"font-semibold text-lg ml-1"},Re={key:0,class:"ml-2 text-red-500 flex items-center text-xs font-bold bg-red-100 px-2 py-0.5 rounded-full"},He={class:"grid grid-cols-2 sm:flex sm:flex-wrap gap-2 w-full md:w-auto"},ze=["onClick"],Ve=["onClick"],Se=["onClick"],Xe=["onClick"],Qe={class:"glass-card max-w-md w-full p-8 shadow-2xl relative overflow-hidden animate-slide-up"},Ze={class:"text-xl font-bold mb-6 flex items-center space-x-2"},Je={key:0,class:"space-y-3 max-h-80 overflow-y-auto pr-2 custom-scrollbar"},Ye={class:"font-medium opacity-80"},Fe=["onClick"],Ge={key:1,class:"text-on-surface-variant/40 text-center py-12 flex flex-col items-center"},Be={class:"mt-8"},es={key:3,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in"},ss={class:"glass-card max-w-xl w-full p-8 shadow-2xl relative overflow-hidden animate-slide-up"},ts={class:"flex justify-between items-center mb-6"},os={class:"space-y-4 mb-6"},ls={class:"flex flex-col space-y-2"},ns=["value"],as={class:"flex flex-col space-y-2"},is={class:"flex space-x-2"},rs=["disabled"],ds={class:"max-h-[50vh] overflow-y-auto space-y-4 pr-2 custom-scrollbar"},cs={key:0,class:"text-on-surface-variant/40 text-center py-16 flex flex-col items-center"},us=["onClick"],ms={class:"flex justify-between items-center"},bs={class:"flex-1"},ps={class:"font-bold text-gray-800 dark:text-gray-100 group-hover:text-indigo-500 transition-colors"},fs={class:"flex items-center space-x-2 mt-1"},vs={class:"text-[10px] bg-indigo-500/10 text-indigo-400 px-2 py-0.5 rounded-full border border-indigo-500/20"},xs={class:"text-[10px] text-on-surface-variant/60"},gs={class:"text-sm text-on-surface-variant/60 mt-2 line-clamp-2 leading-relaxed italic"},ws={class:"mt-8"},hs=re({__name:"MedicationView",setup(t){const p=u([]),y=u(!1),r=u({name:"",dosage:"",frequency:1,stock:null,times:["08:00"]}),n=de(),C=u(!1),x=u([]),U=u(""),T=u(!1),M=ce.isNativePlatform(),k=u(!1),_=u(""),P=u([]),O=u(""),E=u([]),N=u(!1);ue(()=>r.value.frequency,l=>{const e=l||1,o=r.value.times;if(e>o.length)for(let d=o.length;d<e;d++)o.push("12:00");else r.value.times=o.slice(0,e)});const D=me(()=>p.value.filter(l=>W(l))),W=l=>{if(l.stock===null||l.stock===void 0)return!1;const e=parseFloat(l.dosage)||0;if(e<=0)return!1;const o=e*3;return l.stock<o},Z=async()=>{try{p.value=await b("/medications"),j(()=>{typeof lucide<"u"&&lucide.createIcons()})}catch(l){l instanceof Error?n.showToast({message:`加载用药记录失败: ${l.message}`,type:"error"}):n.showToast({message:"加载用药记录失败: 未知错误",type:"error"})}},J=async()=>{try{const l={...r.value,medication_times:r.value.times.join(",")},e=await b("/medications","POST",l);p.value.unshift(e),n.showToast({message:"添加成功！"}),y.value=!1,r.value={name:"",dosage:"",frequency:1,stock:null,times:["08:00"]}}catch(l){l instanceof Error?n.showToast({message:`添加失败: ${l.message}`,type:"error"}):n.showToast({message:"添加失败: 未知错误",type:"error"})}},Y=async l=>{if(confirm(`确定要删除 "${l.name}" 吗?`))try{await b(`/medications/${l.id}`,"DELETE"),p.value=p.value.filter(e=>e.id!==l.id),n.showToast({message:"删除成功"})}catch(e){e instanceof Error?n.showToast({message:`删除失败: ${e.message}`,type:"error"}):n.showToast({message:"删除失败: 未知错误",type:"error"})}},F=async l=>{const e=prompt(`为 "${l.name}" 补充多少库存?`,"10");if(e){const o=parseInt(e,10);if(!isNaN(o)){const d={...l,stock:(l.stock||0)+o};try{await b(`/medications/${l.id}`,"PUT",d);const f=p.value.find(ne=>ne.id===l.id);f&&(f.stock=d.stock),n.showToast({message:"库存补充成功"})}catch(f){f instanceof Error?n.showToast({message:`补充失败: ${f.message}`,type:"error"}):n.showToast({message:"补充失败: 未知错误",type:"error"})}}}},G=async l=>{const e=parseFloat(l.dosage)||1;if(l.stock&&l.stock>=e)try{await b(`/medications/${l.id}/take`,"POST",{dosageAmount:e});const o=p.value.find(d=>d.id===l.id);o&&o.stock&&(o.stock-=e),n.showToast({message:`已服用: ${l.name}`})}catch(o){o instanceof Error?n.showToast({message:`操作失败: ${o.message}`,type:"error"}):n.showToast({message:"操作失败: 未知错误",type:"error"})}else n.showToast({message:"库存不足！",type:"error"})},B=async l=>{try{U.value=l.name,x.value=await b(`/medications/${l.id}/logs`),C.value=!0,j(()=>{typeof lucide<"u"&&lucide.createIcons()})}catch(e){e instanceof Error?n.showToast({message:`加载历史失败: ${e.message}`,type:"error"}):n.showToast({message:"加载历史失败: 未知错误",type:"error"})}},ee=async l=>{if(confirm("确定要删除这条服药记录吗？"))try{await b(`/medications/logs/${l}`,"DELETE"),x.value=x.value.filter(e=>e.id!==l),n.showToast({message:"记录删除成功"})}catch(e){e instanceof Error?n.showToast({message:`删除失败: ${e.message}`,type:"error"}):n.showToast({message:"删除失败: 未知错误",type:"error"})}},se=async()=>{if(!M){n.showToast({message:"扫码功能仅在移动端 App 中可用",type:"warning"});return}try{const{camera:l}=await $.checkPermissions();if(l!=="granted"&&l!=="limited"){const{camera:d}=await $.requestPermissions();if(d!=="granted"){n.showToast({message:"请开启相机权限以使用扫码功能",type:"error"});return}}T.value=!0,document.body.classList.add("scanner-active");const o=(await $.scan({formats:[A.Ean13,A.UpcA]})).barcodes[0]?.displayValue;o&&(n.showToast({message:`扫描成功: ${o}`,type:"success"}),te(o))}catch(l){console.error("Scan Error:",l),n.showToast({message:"扫码过程中发生错误",type:"error"})}finally{T.value=!1,document.body.classList.remove("scanner-active")}},te=async l=>{try{const e=await b(`/medication-lookup/lookup/${l}`);e&&e.name&&(r.value.name=e.name+(e.spec?` (${e.spec})`:""),n.showToast({message:`已自动填充: ${e.name}`}))}catch(e){console.error("Lookup Error:",e),n.showToast({message:"未找到该药品的云端信息，请手动输入",type:"warning"})}},K=async()=>{if(!(!_.value.trim()&&!O.value)){N.value=!0;try{const l=await b("/medication-lookup/encyclopedia","POST",{searchKey:_.value,classifyId:O.value,searchType:"1"});l&&l.pagebean&&(E.value=l.pagebean.contentlist||[],E.value.length===0&&n.showToast({message:"未找到相关药品信息",type:"warning"}))}catch(l){console.error("Encyclopedia Search Error:",l),n.showToast({message:"搜索失败，请稍后再试",type:"error"})}finally{N.value=!1}}},oe=l=>{r.value.name=l.commonName||l.name,l.spec&&(r.value.dosage=l.spec),k.value=!1,n.showToast({message:`已选择: ${r.value.name}`,type:"success"})},le=async()=>{try{const l=await b("/medication-lookup/categories");P.value=l.list||[]}catch(l){console.error("Fetch categories error:",l)}};return be(()=>{Z(),le()}),(l,e)=>(i(),a("div",xe,[s("header",ge,[e[14]||(e[14]=s("div",{class:"bg-white/80 backdrop-blur-sm px-4 md:px-6 py-3 md:py-4 rounded-xl shadow border border-white/20"},[s("h1",{class:"text-xl md:text-2xl font-bold"},"用药记录"),s("p",{class:"text-xs md:text-gray-500 mt-1"},"管理您的用药计划")],-1)),s("button",{onClick:e[0]||(e[0]=o=>y.value=!y.value),class:"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-3 md:px-4 rounded-lg shadow-md transition-all flex items-center space-x-1 md:space-x-2 text-sm md:text-base"},[...e[13]||(e[13]=[s("i",{"data-lucide":"plus-circle",class:"w-5 h-5"},null,-1),s("span",{class:"hidden sm:inline"},"添加药品",-1),s("span",{class:"sm:hidden"},"添加",-1)])])]),D.value.length>0?(i(),a("div",we,[s("div",he,[e[17]||(e[17]=s("div",{class:"py-1"},[s("i",{"data-lucide":"alert-triangle",class:"h-6 w-6 text-red-500 mr-4"})],-1)),s("div",null,[e[16]||(e[16]=s("p",{class:"font-bold"},"库存不足提醒",-1)),s("p",ye,[e[15]||(e[15]=L(" 以下药品库存已不足未来三次用量，请及时补充: ",-1)),(i(!0),a(g,null,w(D.value,(o,d)=>(i(),a("span",{key:o.id,class:"font-semibold"},c(o.name)+c(d<D.value.length-1?", ":""),1))),128))])])])])):m("",!0),y.value?(i(),a("div",ke,[e[26]||(e[26]=s("h2",{class:"text-xl font-semibold mb-4"},"添加新的用药计划",-1)),s("form",{onSubmit:I(J,["prevent"])},[s("div",_e,[s("div",Ee,[s("div",Ne,[e[20]||(e[20]=s("label",{class:"block text-sm font-medium text-gray-700"},"药品名称",-1)),s("div",Ce,[s("button",{type:"button",onClick:e[1]||(e[1]=o=>{k.value=!0,E.value=[],_.value=""}),class:"flex items-center space-x-1 text-xs font-bold text-indigo-600 bg-indigo-50 px-2 py-1 rounded-md hover:bg-indigo-100 transition-colors"},[...e[18]||(e[18]=[s("i",{"data-lucide":"search",class:"w-3 h-3"},null,-1),s("span",null,"查询百科",-1)])]),pe(M)?(i(),a("button",{key:0,type:"button",onClick:se,class:"flex items-center space-x-1 text-xs font-bold text-blue-600 bg-blue-50 px-2 py-1 rounded-md hover:bg-blue-100 transition-colors"},[...e[19]||(e[19]=[s("i",{"data-lucide":"scan",class:"w-3 h-3"},null,-1),s("span",null,"扫码录入",-1)])])):m("",!0)])]),v(s("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=o=>r.value.name=o),required:"",placeholder:"请输入药品名称或点击扫码",class:"block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"},null,512),[[h,r.value.name]])]),s("div",null,[e[21]||(e[21]=s("label",{class:"block text-sm font-medium text-gray-700"},"每次用量",-1)),v(s("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=o=>r.value.dosage=o),class:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"},null,512),[[h,r.value.dosage]])]),s("div",null,[e[22]||(e[22]=s("label",{class:"block text-sm font-medium text-gray-700"},"每日次数",-1)),v(s("input",{type:"number","onUpdate:modelValue":e[4]||(e[4]=o=>r.value.frequency=o),min:"1",class:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"},null,512),[[h,r.value.frequency,void 0,{number:!0}]])]),s("div",Oe,[e[23]||(e[23]=s("label",{class:"block text-sm font-medium text-gray-700"},"当前库存",-1)),v(s("input",{type:"number","onUpdate:modelValue":e[5]||(e[5]=o=>r.value.stock=o),min:"0",class:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"},null,512),[[h,r.value.stock,void 0,{number:!0}]])]),s("div",Ae,[e[24]||(e[24]=s("label",{class:"block text-sm font-medium text-gray-700"},"服药时间",-1)),s("div",De,[(i(!0),a(g,null,w(r.value.times,(o,d)=>(i(),a("div",{key:d},[v(s("input",{type:"time","onUpdate:modelValue":f=>r.value.times[d]=f,required:"",class:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"},null,8,Le),[[h,r.value.times[d]]])]))),128))])])]),s("div",$e,[s("button",{type:"button",onClick:e[6]||(e[6]=o=>y.value=!1),class:"bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-2 px-4 rounded-lg transition-all"}," 取消 "),e[25]||(e[25]=s("button",{type:"submit",class:"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg shadow-md transition-all"}," 确认添加 ",-1))])],32)])):m("",!0),s("main",Ue,[p.value.length===0?(i(),a("div",Te,[...e[27]||(e[27]=[s("i",{"data-lucide":"pilcrow",class:"mx-auto h-12 w-12 text-gray-400"},null,-1),s("h3",{class:"mt-2 text-sm font-medium"},"暂无药品记录",-1)])])):m("",!0),(i(!0),a(g,null,w(p.value,o=>(i(),a("div",{key:o.id,class:"bg-white/80 backdrop-blur-sm rounded-xl shadow-lg p-5 border-l-4 border-blue-500 border-white/20"},[s("div",Me,[s("div",Pe,[s("h3",We,c(o.name),1),s("p",Ke," 用法: "+c(o.dosage||"未设置")+" / 每次, "+c(o.frequency||"N/A")+"次 / 每日 ",1),o.medication_times?(i(),a("p",Ie,"时间: "+c(o.medication_times),1)):m("",!0),s("p",je,[e[29]||(e[29]=L(" 库存: ",-1)),s("span",qe,c(o.stock||0),1),W(o)?(i(),a("span",Re,[...e[28]||(e[28]=[s("i",{"data-lucide":"alert-circle",class:"w-4 h-4 mr-1"},null,-1),L(" 库存不足 ",-1)])])):m("",!0)])]),s("div",He,[s("button",{onClick:d=>G(o),class:"bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded-lg shadow-md"}," 服用 ",8,ze),s("button",{onClick:d=>B(o),class:"bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-2 px-4 rounded-lg transition-all"}," 记录 ",8,Ve),s("button",{onClick:d=>F(o),class:"bg-yellow-500 hover:bg-yellow-600 text-white font-semibold py-2 px-4 rounded-lg shadow-md"}," 补充 ",8,Se),s("button",{onClick:d=>Y(o),class:"bg-red-500 hover:bg-red-600 text-white font-semibold py-2 px-4 rounded-lg shadow-md"}," 删除 ",8,Xe)])])]))),128))]),C.value?(i(),a("div",{key:2,onClick:e[8]||(e[8]=I(o=>C.value=!1,["self"])),class:"fixed inset-0 bg-black/40 backdrop-blur-md flex items-center justify-center p-4 z-50 animate-fade-in"},[s("div",Qe,[e[32]||(e[32]=s("div",{class:"absolute top-0 right-0 p-8 opacity-5 pointer-events-none"},[s("i",{"data-lucide":"history",class:"w-32 h-32 text-blue-500"})],-1)),s("h2",Ze,[e[30]||(e[30]=s("i",{"data-lucide":"clock",class:"w-5 h-5 text-blue-500"},null,-1)),s("span",null,'"'+c(U.value)+'" 的服药历史',1)]),x.value.length>0?(i(),a("ul",Je,[(i(!0),a(g,null,w(x.value,o=>(i(),a("li",{key:o.id,class:"flex justify-between items-center p-4 bg-white/5 border border-white/10 rounded-2xl text-sm hover:bg-white/10 transition-colors"},[s("span",Ye,c(new Date(o.taken_at).toLocaleString("zh-CN")),1),s("button",{onClick:d=>ee(o.id),class:"text-red-400 hover:text-red-300 font-bold text-xs uppercase tracking-widest px-3 py-1 bg-red-500/10 rounded-full transition-all active:scale-95"}," 删除 ",8,Fe)]))),128))])):m("",!0),x.value.length===0?(i(),a("div",Ge,[...e[31]||(e[31]=[s("i",{"data-lucide":"inbox",class:"w-12 h-12 mb-2 opacity-20"},null,-1),s("p",{class:"text-sm"},"暂无服药记录",-1)])])):m("",!0),s("div",Be,[s("button",{onClick:e[7]||(e[7]=o=>C.value=!1),class:"w-full py-3 bg-white/10 hover:bg-white/20 text-on-surface font-bold rounded-2xl transition-all active:scale-[0.98]"}," 关闭 ")])])])):m("",!0),k.value?(i(),a("div",es,[s("div",ss,[s("div",ts,[e[34]||(e[34]=s("h2",{class:"text-xl font-bold flex items-center space-x-2"},[s("i",{"data-lucide":"book-open",class:"w-5 h-5 text-indigo-500"}),s("span",null,"药品百科查询")],-1)),s("button",{onClick:e[9]||(e[9]=o=>k.value=!1),class:"text-on-surface-variant/60 hover:text-on-surface transition-colors"},[...e[33]||(e[33]=[s("i",{"data-lucide":"x",class:"w-6 h-6"},null,-1)])])]),s("div",os,[s("div",ls,[e[36]||(e[36]=s("label",{class:"text-xs font-bold opacity-40 ml-1"},"选择药品分类",-1)),v(s("select",{"onUpdate:modelValue":e[10]||(e[10]=o=>O.value=o),class:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-2xl outline-none focus:ring-2 focus:ring-indigo-500/20 transition-all appearance-none",style:{"background-image":"url('data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 fill=%22none%22 viewBox=%220 0 24 24%22 stroke=%22currentColor%22%3E%3Cpath stroke-linecap=%22round%22 stroke-linejoin=%22round%22 stroke-width=%222%22 d=%22M19 9l-7 7-7-7%22%3E%3C/path%3E%3C/svg%3E')","background-repeat":"no-repeat","background-position":"right 1rem center","background-size":"1em"}},[e[35]||(e[35]=s("option",{value:"",class:"dark:bg-slate-900"},"全部类别",-1)),(i(!0),a(g,null,w(P.value,o=>(i(),a("option",{key:o.id,value:o.id,class:"dark:bg-slate-900"},c(o.name),9,ns))),128))],512),[[fe,O.value]])]),s("div",as,[e[37]||(e[37]=s("label",{class:"text-xs font-bold opacity-40 ml-1"},"搜素名称或准字号",-1)),s("div",is,[v(s("input",{type:"text","onUpdate:modelValue":e[11]||(e[11]=o=>_.value=o),placeholder:"请输入药品名称...",class:"flex-1 px-4 py-3 bg-white/5 border border-white/10 rounded-2xl focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500/40 outline-none transition-all",onKeyup:ve(K,["enter"])},null,544),[[h,_.value]]),s("button",{onClick:K,disabled:N.value,class:"bg-gradient-to-br from-indigo-500 to-purple-600 text-white px-6 py-3 rounded-2xl font-bold shadow-lg shadow-indigo-500/25 hover:shadow-indigo-500/40 transition-all active:scale-95 disabled:opacity-50"},c(N.value?"搜索中...":"搜索"),9,rs)])])]),s("div",ds,[E.value.length===0&&!N.value?(i(),a("div",cs,[...e[38]||(e[38]=[s("i",{"data-lucide":"search",class:"w-16 h-16 mb-4 opacity-10"},null,-1),s("p",{class:"text-sm"},"输入药名或准字号开始搜索",-1)])])):m("",!0),(i(!0),a(g,null,w(E.value,o=>(i(),a("div",{key:o.id,class:"p-4 bg-white/5 border border-white/10 rounded-2xl hover:bg-white/10 hover:border-indigo-500/30 transition-all cursor-pointer group",onClick:d=>oe(o)},[s("div",ms,[s("div",bs,[s("h4",ps,c(o.name),1),s("div",fs,[s("span",vs,c(o.typeName||"西药"),1),s("p",xs,c(o.approvalNumber||o.zyzh),1)]),s("p",gs,c(o.tag||o.indications||"暂无详细功用描述"),1)]),e[39]||(e[39]=s("div",{class:"ml-4 p-2 bg-indigo-500/10 rounded-xl text-indigo-400 opacity-0 group-hover:opacity-100 transition-all transform translate-x-2 group-hover:translate-x-0"},[s("i",{"data-lucide":"chevron-right",class:"w-5 h-5"})],-1))])],8,us))),128))]),s("div",ws,[s("button",{onClick:e[12]||(e[12]=o=>k.value=!1),class:"w-full py-3 bg-white/5 hover:bg-white/10 text-on-surface font-semibold rounded-2xl transition-all active:scale-[0.98]"}," 返回 ")])])])):m("",!0)]))}}),ks=Object.freeze(Object.defineProperty({__proto__:null,default:hs},Symbol.toStringTag,{value:"Module"}));export{q as B,H as L,ks as M};
