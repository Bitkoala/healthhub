import{d as me,u as ve,r as T,y as pe,c as x,o as fe,a as n,b as t,e as d,q as V,t as S,F as G,g as q,h,v as U,l as z,m as be,p as xe,j as k,k as r}from"./index-B-AndoMI.js";import{C as ye,c as we,L as he,B as ke,p as _e,a as De,b as Te,d as Se}from"./index-AsAYyEFq.js";const Ce={class:"p-4 sm:p-6 md:p-8 max-w-4xl mx-auto"},Pe={class:"flex justify-between items-center mb-6"},Me={class:"flex items-center space-x-2"},Fe=["aria-checked"],Le={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3 text-blue-600",viewBox:"0 0 20 20",fill:"currentColor"},Oe={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3 text-pink-600",viewBox:"0 0 20 20",fill:"currentColor"},Ee={class:"flex justify-end items-center mb-6"},Ve={key:0,class:"flex space-x-2"},Ue=["disabled"],ze=["disabled"],Ae={key:0,class:"bg-white p-6 rounded-lg shadow-md text-center mb-6"},Be={key:0},Re={class:"text-5xl font-bold text-pink-500 my-4"},$e={class:"text-gray-500"},je={class:"text-sm text-gray-400 mt-4"},Ie={key:1},Ne={class:"bg-white p-6 rounded-lg shadow-md"},He={class:"mb-6"},We={class:"flex justify-between items-center mb-4"},Ye={class:"text-xl font-semibold"},Ge={class:"grid grid-cols-7 gap-1 text-center"},qe=["onClick"],Ze={class:"font-medium"},Je={class:"flex-grow flex flex-col justify-center items-center space-y-1 w-full"},Ke={key:0,class:"text-xs text-white bg-red-500/90 rounded-full px-2 py-0.5 inline-block"},Qe={key:1},Xe={key:0,class:"text-xs text-red-500"},et={key:1,class:"text-xs text-white bg-purple-500/90 rounded-full px-2 py-0.5 inline-block"},tt={key:2,class:"text-xs text-white bg-pink-400/90 rounded-full px-2 py-0.5 inline-block"},st={key:2,class:"text-red-500"},ot={key:0,class:"mt-8"},lt={class:"text-lg font-semibold mb-4"},at={key:0},nt={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"},rt={class:"mb-4"},it={key:1},dt={class:"border-t pt-4 mt-6"},ut={key:0,class:"space-y-4"},ct={key:1},gt={key:0,class:"my-6"},mt={key:1,class:"text-gray-500"},vt={key:1,class:"mt-8"},pt={class:"flex flex-wrap items-center gap-4 mb-4 p-4 bg-gray-50 rounded-lg border"},ft={class:"flex-1 min-w-[150px]"},bt={class:"flex-1 min-w-[150px]"},xt={key:0,class:"relative h-96"},yt={key:1,class:"text-center text-gray-500 p-8 border rounded-lg h-96 flex items-center justify-center"},_t=me({__name:"PeriodTrackerView",setup(wt){ye.register(we,he,ke,_e,De,Te);const u=s=>{if(!s)return null;const e=s.split("T")[0].split("-").map(Number);return new Date(e[0],e[1]-1,e[2])},b=s=>{const e=s.getFullYear(),o=(s.getMonth()+1).toString().padStart(2,"0"),a=s.getDate().toString().padStart(2,"0");return`${e}-${o}-${a}`},v=ve(),C=new Date;C.setHours(0,0,0,0);const P=T(new Date(C)),g=T(null),M=T([]),$=T([]),F=T(null),y=T(null),p=T({start_date:"",end_date:"",pain_level:"无",flow_volume:"正常",notes:"",color:null,state:null}),A=T({protection_method:null}),Z=["日","一","二","三","四","五","六"],w=pe({startDate:"",endDate:""}),i=T(!1),_=x(()=>M.value.find(s=>!s.end_date)),B=x(()=>{if(!g.value)return;const s=b(g.value);return $.value.find(e=>e.log_date===s)}),H=x(()=>P.value.getFullYear()),W=x(()=>P.value.getMonth()),L=x(()=>!M.value||M.value.length===0?null:[...M.value].filter(e=>e.end_date).sort((e,o)=>{const a=u(e.start_date),l=u(o.start_date);return!a||!l?0:l.getTime()-a.getTime()})[0]||null),j=x(()=>{if(!i.value||!L.value)return{week:null,day:null,dueDate:null};const s=u(L.value.start_date);if(!s)return{week:null,day:null,dueDate:null};const e=Math.max(0,C.getTime()-s.getTime()),o=Math.floor(e/(1e3*60*60*24)),a=new Date(s);return a.setDate(s.getDate()+280),{week:Math.floor(o/7),day:o%7,dueDate:b(a)}}),J=x(()=>j.value.week),K=x(()=>j.value.day),Q=x(()=>j.value.dueDate),X=x(()=>{const s=H.value,e=W.value,o=new Date(s,e,1),a=new Date(s,e+1,0),l=[],c=o.getDay();for(let m=c;m>0;m--)l.push(I(new Date(s,e,1-m),!1));for(let m=1;m<=a.getDate();m++)l.push(I(new Date(s,e,m),!0));const f=a.getDay();for(let m=1;m<7-f;m++)l.push(I(new Date(s,e+1,m),!1));return l}),R=x(()=>M.value.filter(s=>s.end_date).sort((s,e)=>{const o=u(s.start_date),a=u(e.start_date);return!o||!a?0:o.getTime()-a.getTime()})),ee=x(()=>!w.startDate||!w.endDate?R.value:R.value.filter(s=>{const e=s.start_date.split("T")[0];return e>=w.startDate&&e<=w.endDate})),O=x(()=>{const s=ee.value;if(s.length===0)return{labels:[],datasets:[]};const e=s.map(l=>{const c=u(l.start_date);return c?b(c):""}),o=s.map(l=>{const c=u(l.start_date),f=u(l.end_date);return!c||!f?0:(f.getTime()-c.getTime())/(1e3*3600*24)+1}),a=s.map(l=>{const c=R.value.findIndex(f=>f.id===l.id);if(c>0){const f=R.value[c-1],m=u(l.start_date),Y=u(f.start_date);if(m&&Y)return(m.getTime()-Y.getTime())/(1e3*3600*24)}return null});return{labels:e,datasets:[{label:"周期长度 (天)",backgroundColor:"rgba(13, 110, 253, 0.7)",borderColor:"#0d6efd",data:a,yAxisID:"y",barPercentage:.5,categoryPercentage:.7},{label:"经期长度 (天)",backgroundColor:"rgba(220, 53, 69, 0.7)",borderColor:"#dc3545",data:o,yAxisID:"y1",barPercentage:.5,categoryPercentage:.7}]}}),te={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"top",labels:{font:{size:14,family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif"},color:"#333"}},title:{display:!0,text:"周期与经期长度趋势",font:{size:18,family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif"},color:"#333",padding:{top:10,bottom:20}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleFont:{size:14,weight:"bold"},bodyFont:{size:12},callbacks:{title:s=>`周期开始于: ${s[0].label}`,label:s=>{let e=s.dataset.label||"";return e&&(e+=": "),s.parsed.y!==null&&(e+=`${s.parsed.y} 天`),e}}}},scales:{x:{grid:{display:!1},ticks:{color:"#555",font:{size:12}}},y:{type:"linear",display:!0,position:"left",beginAtZero:!1,min:15,title:{display:!0,text:"周期长度 (天)",color:"#0d6efd",font:{size:14,weight:"bold"}},grid:{color:"#e9e9e9"},ticks:{color:"#0d6efd"}},y1:{type:"linear",display:!0,position:"right",beginAtZero:!0,max:15,title:{display:!0,text:"经期长度 (天)",color:"#dc3545",font:{size:14,weight:"bold"}},grid:{drawOnChartArea:!1},ticks:{color:"#dc3545"}}}},I=(s,e)=>{const o=b(s),a={date:s,isCurrentMonth:e,isToday:s.getTime()===C.getTime(),isSelected:g.value?.getTime()===s.getTime(),isPeriod:M.value.some(l=>{const c=u(l.start_date);if(!c)return!1;const f=u(l.end_date),m=f||(_.value?.id===l.id?C:c);return s>=c&&s<=m}),isPredictedPeriod:!1,isFertile:!1,isOvulation:!1,isSexDay:$.value.some(l=>l.log_date===o)};if(F.value&&!i.value){const l=u(F.value.nextPeriodStartDate);if(!l)return a;const c=new Date(l);c.setDate(l.getDate()+(F.value.averagePeriodLength||7)-1),a.isPredictedPeriod=s>=l&&s<=c;const f=u(F.value.fertileWindow.start),m=u(F.value.fertileWindow.end);f&&m&&(a.isFertile=s>=f&&s<=m),a.isOvulation=o===F.value.ovulationDate}return a},se=s=>({"bg-gray-50 text-gray-400":!s.isCurrentMonth,"bg-blue-100":s.isToday,"ring-2 ring-blue-500":s.isSelected,"bg-red-100":s.isPeriod,"bg-red-50":s.isPredictedPeriod&&!s.isPeriod&&!i.value,"bg-purple-100":s.isOvulation&&!i.value,"bg-pink-100":s.isFertile&&!s.isOvulation&&!i.value}),D=async()=>{try{const s=[k("/periods","GET"),k("/sex","GET")];i.value||s.push(k("/periods/predict","GET"));const e=await Promise.all(s);M.value=e[0]||[],$.value=e[1]||[],F.value=e.length>2?e[2]:null}catch(s){console.error("Failed to fetch data:",s),v.showToast({message:"数据加载失败",type:"error"})}},E=s=>{if(g.value=s,y.value=null,!i.value){const o=M.value.find(a=>{const l=u(a.start_date);if(!l)return!1;const c=u(a.end_date),f=c||(_.value?.id===a.id?C:l);return s>=l&&s<=f});if(o){const a=u(o.start_date),l=u(o.end_date);y.value={...o},p.value={start_date:a?b(a):"",end_date:l?b(l):"",pain_level:o.pain_level||"无",flow_volume:o.flow_volume||"正常",notes:o.notes||"",color:o.color||null,state:o.state||null}}}const e=B.value;A.value.protection_method=e&&e.protection_method||null},oe=async()=>{if(_.value)return v.showToast({message:"已有进行中的经期",type:"warning"});const s=g.value?b(g.value):b(C);try{await k("/periods","POST",{start_date:s}),v.showToast({message:"经期开始记录成功",type:"success"}),await D();const e=u(s);e&&E(e)}catch(e){console.error("Failed to start period:",e),v.showToast({message:"记录失败",type:"error"})}},le=async()=>{if(!_.value)return v.showToast({message:"没有进行中的经期",type:"warning"});const s=g.value?b(g.value):b(C);try{await k(`/periods/${_.value.id}`,"PUT",{end_date:s}),v.showToast({message:"经期结束记录成功",type:"success"}),await D();const e=u(s);e&&E(e)}catch(e){console.error("Failed to end period:",e),v.showToast({message:"记录失败",type:"error"})}},ae=async()=>{if(y.value)try{await k(`/periods/${y.value.id}`,"PUT",{...p.value,end_date:p.value.end_date||null}),v.showToast({message:"记录更新成功",type:"success"}),await D(),N()}catch(s){console.error("Failed to update record:",s),v.showToast({message:"更新失败",type:"error"})}},ne=async()=>{if(!(!y.value||!confirm("确定要删除这个经期周期吗？此操作不可撤销。")))try{await k(`/periods/${y.value.id}`,"DELETE"),v.showToast({message:"删除成功",type:"success"}),await D(),N(),g.value=null}catch(s){console.error("Failed to delete record:",s),v.showToast({message:"删除失败",type:"error"})}},re=async()=>{if(!g.value)return;const s=b(g.value);try{await k("/sex","POST",{log_date:s,protection_method:null}),v.showToast({message:"已记录 ❤️",type:"success"}),await D(),E(g.value)}catch(e){console.error("Failed to create sex log:",e),v.showToast({message:"操作失败",type:"error"})}},ie=async()=>{if(!(!g.value||!B.value))try{await k("/sex","POST",{log_date:b(g.value),protection_method:A.value.protection_method}),v.showToast({message:"保护措施已保存",type:"success"}),await D()}catch(s){console.error("Failed to save sex log:",s),v.showToast({message:"保存失败",type:"error"})}},de=async()=>{if(!(!g.value||!confirm("确定要删除这一天的爱爱记录吗？")))try{await k(`/sex/${b(g.value)}`,"DELETE"),v.showToast({message:"记录已删除",type:"success"}),await D(),E(g.value)}catch(s){console.error("Failed to delete sex log:",s),v.showToast({message:"删除失败",type:"error"})}},N=()=>{y.value=null},ue=()=>{P.value=new Date(P.value.setMonth(P.value.getMonth()-1))},ce=()=>{P.value=new Date(P.value.setMonth(P.value.getMonth()+1))},ge=()=>{i.value=!i.value,D()};return fe(()=>{D();const s=new Date,e=new Date;e.setFullYear(e.getFullYear()-1),w.startDate=b(e),w.endDate=b(s)}),(s,e)=>(r(),n("div",Ce,[t("div",Pe,[e[14]||(e[14]=t("div",{class:"bg-white/80 backdrop-blur-sm px-6 py-3 rounded-xl shadow"},[t("h1",{class:"text-2xl font-bold text-gray-800"},"健康跟踪器")],-1)),t("div",Me,[e[12]||(e[12]=t("span",{class:"text-sm font-medium text-gray-800 bg-white/70 backdrop-blur-sm px-2 py-1 rounded-lg"},"普通模式",-1)),t("button",{onClick:ge,role:"switch","aria-checked":i.value,class:V(["relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",i.value?"bg-pink-400":"bg-blue-400"])},[t("span",{"aria-hidden":"true",class:V(["pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out flex items-center justify-center",i.value?"translate-x-5":"translate-x-0"])},[i.value?d("",!0):(r(),n("svg",Le,[...e[10]||(e[10]=[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM7.707 8.707a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4a1 1 0 00-1.414-1.414L10 11.586l-2.293-2.293z","clip-rule":"evenodd"},null,-1)])])),i.value?(r(),n("svg",Oe,[...e[11]||(e[11]=[t("path",{"fill-rule":"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z","clip-rule":"evenodd"},null,-1)])])):d("",!0)],2)],10,Fe),e[13]||(e[13]=t("span",{class:"text-sm font-medium text-gray-800 bg-white/70 backdrop-blur-sm px-2 py-1 rounded-lg"},"孕期模式",-1))])]),t("div",Ee,[i.value?d("",!0):(r(),n("div",Ve,[t("button",{onClick:oe,disabled:!!_.value,class:V(["px-4 py-2 text-white font-bold rounded-lg shadow-md transition-all",[_.value?"bg-gray-400 cursor-not-allowed":"bg-green-500 hover:bg-green-700"]])}," 经期开始 ",10,Ue),t("button",{onClick:le,disabled:!_.value,class:V(["px-4 py-2 text-white font-bold rounded-lg shadow-md transition-all",[_.value?"bg-red-500 hover:bg-red-600":"bg-gray-400 cursor-not-allowed"]])}," 经期结束 ",10,ze)]))]),i.value?(r(),n("div",Ae,[L.value?(r(),n("div",Be,[e[15]||(e[15]=t("h2",{class:"text-xl font-semibold text-gray-700"},"当前孕周",-1)),t("p",Re,S(J.value)+" 周 + "+S(K.value)+" 天",1),t("p",$e,"预产期大约在: "+S(Q.value),1),t("p",je,"(基于末次月经第一天: "+S(L.value.start_date)+")",1)])):d("",!0),L.value?d("",!0):(r(),n("div",Ie,[...e[16]||(e[16]=[t("h2",{class:"text-xl font-semibold text-gray-700"},"信息不足",-1),t("p",{class:"mt-4 text-gray-600"},"无法计算孕周，因为没有找到您的末次月经记录。",-1),t("p",{class:"mt-2 text-gray-500"},"请先切换回正常模式，并至少记录一次完整的经期。",-1)])]))])):d("",!0),t("div",Ne,[t("div",He,[t("div",We,[t("button",{onClick:ue,class:"px-4 py-2 bg-gray-200 rounded-lg"},"< 上一月"),t("h2",Ye,S(H.value)+" 年 "+S(W.value+1)+" 月",1),t("button",{onClick:ce,class:"px-4 py-2 bg-gray-200 rounded-lg"},"下一月 >")]),t("div",Ge,[(r(),n(G,null,q(Z,o=>t("div",{key:o,class:"font-semibold text-sm"},S(o),1)),64)),(r(!0),n(G,null,q(X.value,o=>(r(),n("div",{key:o.date.toISOString(),class:V(["p-2 h-24 border rounded-md flex flex-col justify-start items-center cursor-pointer",se(o)]),onClick:a=>E(o.date)},[t("span",Ze,S(o.date.getDate()),1),t("div",Je,[o.isPeriod?(r(),n("div",Ke,"经期")):d("",!0),i.value?d("",!0):(r(),n("div",Qe,[o.isPredictedPeriod&&!o.isPeriod?(r(),n("div",Xe,"预测经期")):d("",!0),o.isOvulation?(r(),n("div",et,"排卵期")):d("",!0),o.isFertile&&!o.isOvulation?(r(),n("div",tt,"易孕期")):d("",!0)])),o.isSexDay?(r(),n("div",st,"❤️")):d("",!0)])],10,qe))),128))])]),g.value?(r(),n("div",ot,[t("h3",lt,"记录 "+S(g.value.toLocaleDateString()),1),y.value&&!i.value?(r(),n("div",at,[t("div",nt,[t("div",null,[e[17]||(e[17]=t("label",{class:"block text-sm font-medium text-gray-700"},"开始日期",-1)),h(t("input",{type:"date","onUpdate:modelValue":e[0]||(e[0]=o=>p.value.start_date=o),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",disabled:""},null,512),[[U,p.value.start_date]])]),t("div",null,[e[18]||(e[18]=t("label",{class:"block text-sm font-medium text-gray-700"},"结束日期 (如果不确定，请留空)",-1)),h(t("input",{type:"date","onUpdate:modelValue":e[1]||(e[1]=o=>p.value.end_date=o),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[U,p.value.end_date]])]),t("div",null,[e[20]||(e[20]=t("label",{class:"block text-sm font-medium text-gray-700"},"疼痛程度",-1)),h(t("select",{"onUpdate:modelValue":e[2]||(e[2]=o=>p.value.pain_level=o),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...e[19]||(e[19]=[t("option",null,"无",-1),t("option",null,"轻度",-1),t("option",null,"中度",-1),t("option",null,"重度",-1)])],512),[[z,p.value.pain_level]])]),t("div",null,[e[22]||(e[22]=t("label",{class:"block text-sm font-medium text-gray-700"},"流量",-1)),h(t("select",{"onUpdate:modelValue":e[3]||(e[3]=o=>p.value.flow_volume=o),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...e[21]||(e[21]=[t("option",null,"偏少",-1),t("option",null,"正常",-1),t("option",null,"偏多",-1)])],512),[[z,p.value.flow_volume]])]),t("div",null,[e[24]||(e[24]=t("label",{class:"block text-sm font-medium text-gray-700"},"颜色",-1)),h(t("select",{"onUpdate:modelValue":e[4]||(e[4]=o=>p.value.color=o),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...e[23]||(e[23]=[t("option",{value:null},"未记录",-1),t("option",null,"褐色",-1),t("option",null,"粉红色",-1),t("option",null,"鲜红色",-1),t("option",null,"暗红色",-1)])],512),[[z,p.value.color]])]),t("div",null,[e[26]||(e[26]=t("label",{class:"block text-sm font-medium text-gray-700"},"状态",-1)),h(t("select",{"onUpdate:modelValue":e[5]||(e[5]=o=>p.value.state=o),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...e[25]||(e[25]=[t("option",{value:null},"未记录",-1),t("option",null,"点滴状",-1),t("option",null,"正常",-1),t("option",null,"粘稠",-1),t("option",null,"含血块",-1)])],512),[[z,p.value.state]])])]),t("div",rt,[e[27]||(e[27]=t("label",{class:"block text-sm font-medium text-gray-700"},"备注",-1)),h(t("textarea",{"onUpdate:modelValue":e[6]||(e[6]=o=>p.value.notes=o),rows:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[U,p.value.notes]])]),t("div",{class:"flex space-x-4"},[t("button",{onClick:ae,class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700"},"更新记录"),t("button",{onClick:ne,class:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700"},"删除周期"),t("button",{onClick:N,class:"px-4 py-2 bg-gray-300 rounded-lg"},"取消")])])):d("",!0),!y.value||i.value?(r(),n("div",it,[t("div",dt,[e[31]||(e[31]=t("h4",{class:"text-md font-semibold mb-3"},"私密记录",-1)),B.value?(r(),n("div",ut,[e[30]||(e[30]=t("p",{class:"text-green-600 font-semibold"},"✓ 已记录爱爱",-1)),t("div",null,[e[29]||(e[29]=t("label",{class:"block text-sm font-medium text-gray-700"},"保护措施",-1)),h(t("select",{"onUpdate:modelValue":e[7]||(e[7]=o=>A.value.protection_method=o),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...e[28]||(e[28]=[t("option",{value:null},"未记录",-1),t("option",null,"无保护",-1),t("option",null,"避孕套",-1),t("option",null,"避孕药",-1),t("option",null,"其他",-1)])],512),[[z,A.value.protection_method]])]),t("div",{class:"flex space-x-2"},[t("button",{onClick:ie,class:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600"},"保存"),t("button",{onClick:de,class:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600"},"删除记录")])])):d("",!0),B.value?d("",!0):(r(),n("div",ct,[t("button",{onClick:re,class:"px-4 py-2 bg-rose-500 text-white rounded-lg hover:bg-rose-600"},"记录爱爱 ❤️")]))]),i.value?d("",!0):(r(),n("hr",gt)),!y.value&&!i.value?(r(),n("p",mt,"这一天没有经期记录。您可以点击经期日来编辑详情，或使用主按钮来开始/结束周期。")):d("",!0)])):d("",!0)])):d("",!0),i.value?d("",!0):(r(),n("div",vt,[e[35]||(e[35]=t("h3",{class:"text-lg font-semibold mb-4"},"健康分析图表",-1)),t("div",pt,[t("div",ft,[e[32]||(e[32]=t("label",{for:"chart-start-date",class:"block text-sm font-medium text-gray-700"},"开始日期",-1)),h(t("input",{type:"date",id:"chart-start-date","onUpdate:modelValue":e[8]||(e[8]=o=>w.startDate=o),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[U,w.startDate]])]),t("div",bt,[e[33]||(e[33]=t("label",{for:"chart-end-date",class:"block text-sm font-medium text-gray-700"},"结束日期",-1)),h(t("input",{type:"date",id:"chart-end-date","onUpdate:modelValue":e[9]||(e[9]=o=>w.endDate=o),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[U,w.endDate]])])]),O.value.labels&&O.value.labels.length>0?(r(),n("div",xt,[be(xe(Se),{data:O.value,options:te},null,8,["data"])])):d("",!0),!O.value.labels||O.value.labels.length===0?(r(),n("div",yt,[...e[34]||(e[34]=[t("p",null,"在选定时间范围内没有足够的数据来生成图表。请至少记录一个完整的周期，或扩大筛选范围。",-1)])])):d("",!0)]))])]))}});export{_t as default};
